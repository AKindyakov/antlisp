#!/usr/bin/env python
# encoding: utf-8


def build(ctx):
    ctx.stlib(
        target="antlisp-src",
        source = [
            "stack_machine.cpp",
            "cell.cpp",
            "string.cpp",
            "parser.cpp",
        ],
        use=[
        ],
    )
    ctx.program(
        target="stack_machine_ut",
        source="stack_machine_ut.cpp",
        use=[
            "antlisp-src"
        ],
    )
    ctx(
        rule="${SRC}",
        source="stack_machine_ut",
    )

    ctx.program(
        target="exception_ut",
        source="exception_ut.cpp",
        use=[
            "antlisp-src"
        ],
    )
    ctx(
        rule="${SRC}",
        source="exception_ut",
    )

    ctx.program(
        target="cell_ut",
        source="cell_ut.cpp",
        use=[
            "antlisp-src"
        ],
    )
    ctx(
        rule="${SRC}",
        source="cell_ut",
    )

    ctx.program(
        target="string_ut",
        source="string_ut.cpp",
        use=[
            "antlisp-src"
        ],
    )
    ctx(
        rule="${SRC}",
        source="string_ut",
    )

    ctx.program(
        target="parser_ut",
        source="parser_ut.cpp",
        use=[
            "antlisp-src"
        ],
    )
    ctx(
        rule="${SRC}",
        source="parser_ut",
    )

    ctx.program(
        target="parse_and_run_ut",
        source="parse_and_run_ut.cpp",
        use=[
            "antlisp-src"
        ],
    )
    ctx(
        rule="${SRC}",
        source="parse_and_run_ut",
    )
